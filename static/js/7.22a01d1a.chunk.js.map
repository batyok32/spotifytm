{"version":3,"sources":["utils/isEmpty.jsx","utils/loginValidate.jsx","containers/Login.jsx"],"names":["hasOwnProperty","Object","prototype","isEmpty","obj","length","key","call","loginValidate","values","errors","username","trim","password","Login","useState","formData","setFormData","isLoading","setIsLoading","formErrors","setFormErrors","startedWriting","setStartedWriting","onChange","e","target","name","value","dispatch","useDispatch","useEffect","onSubmit","console","log","preventDefault","login","then","res","className","src","width","style","fontWeight","letterSpacing","fontSize","lineHeight","class","for","type","borderRadius","color","id","placeholder","onKeyDown","to","disabled","role"],"mappings":"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","file":"static/js/7.22a01d1a.chunk.js","sourcesContent":["// Speed up calls to hasOwnProperty\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport default function isEmpty(obj) {\n\t// null and undefined are \"empty\"\n\tif (obj == null) return true;\n\n\t// Assume if it has a length property with a non-zero value\n\t// that that property is correct.\n\tif (obj.length > 0) return false;\n\tif (obj.length === 0) return true;\n\n\t// If it isn't an object at this point\n\t// it is empty, but it can't be anything *but* empty\n\t// Is it empty?  Depends on your application.\n\tif (typeof obj !== \"object\") return true;\n\n\t// Otherwise, does it have any properties of its own?\n\t// Note that this doesn't handle\n\t// toString and valueOf enumeration bugs in IE < 9\n\tfor (var key in obj) {\n\t\tif (hasOwnProperty.call(obj, key)) return false;\n\t}\n\n\treturn true;\n}\n","export function loginValidate(values) {\n\tlet errors = {};\n\t// console.log(\"Validating\", values);\n\tif (!values?.username?.trim()) {\n\t\terrors.username =\n\t\t\t\"Введите имя пользователя или адрес электронной почты из аккаунта Spotify.\";\n\t}\n\n\tif (!values?.password) {\n\t\terrors.password = \"Введите пароль.\";\n\t}\n\tif (values?.password && values?.password.length < 6) {\n\t\terrors.password = \"Пароль должен состоять из 6 символов и больше.\";\n\t}\n\n\treturn errors;\n}\n","import React, { useState, useEffect } from \"react\";\nimport { login } from \"../redux/actions/auth\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport isEmpty from \"../utils/isEmpty\";\nimport { loginValidate } from \"../utils/loginValidate\";\n\nfunction Login() {\n\t// form\n\tconst [formData, setFormData] = useState({\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [formErrors, setFormErrors] = useState(null);\n\tconst [startedWriting, setStartedWriting] = useState({\n\t\tusername: false,\n\t\tpassword: false,\n\t});\n\tconst { username, password } = formData;\n\n\tconst onChange = (e) => {\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\n\t};\n\n\t// redux\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tsetFormErrors(loginValidate(formData));\n\t}, [formData, startedWriting]);\n\n\t// submit\n\tconst onSubmit = (e) => {\n\t\tconsole.log(\"Submit Login\");\n\t\te.preventDefault();\n\t\tsetStartedWriting({\n\t\t\tusername: true,\n\t\t\tpassword: true,\n\t\t});\n\t\tsetFormErrors(loginValidate(formData));\n\t\tif (isEmpty(formErrors)) {\n\t\t\tsetIsLoading(true);\n\t\t\tdispatch(login(username, password)).then((res) => {\n\t\t\t\tsetIsLoading(false);\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"header d-flex border-bottom justify-content-center py-4 align-items-center\">\n\t\t\t\t<img src=\"/images/lofo.svg\" width={200} className=\"img-fluid\" />\n\t\t\t</div>\n\t\t\t<div className=\"social-links mx-auto container\">\n\t\t\t\t<div className=\" py-4 d-flex flex-column justify-content-center align-items-center\">\n\t\t\t\t\t<div className=\"h6 py-2\" style={{ fontWeight: 900 }}>\n\t\t\t\t\t\tЧтобы продолжить, войдите в Spotify.\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn text-uppercase fw-bold w-100 py-3 rounded-pill btn-facebook\"\n\t\t\t\t\t\tstyle={{ letterSpacing: \"2px\", fontSize: \"14px\", lineHeight: 1 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i class=\"bi bi-facebook me-2\" style={{ fontSize: \"16px\" }}></i>\n\t\t\t\t\t\tВойти через Facebook\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn text-uppercase fw-bold my-2 w-100 py-3 rounded-pill btn-black\"\n\t\t\t\t\t\tstyle={{ letterSpacing: \"2px\", fontSize: \"14px\", lineHeight: 1 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i class=\"bi bi-phone-fill me-2\" style={{ fontSize: \"16px\" }}></i>\n\t\t\t\t\t\tВойти через Apple\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn text-uppercase fw-bold mb-2 w-100 py-3 rounded-pill btn-google\"\n\t\t\t\t\t\tstyle={{ letterSpacing: \"2px\", fontSize: \"14px\", lineHeight: 1 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i class=\"bi bi-google me-2\" style={{ fontSize: \"16px\" }}></i>Войти\n\t\t\t\t\t\tчерез Google\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"divider my-1 \"\n\t\t\t\t\tstyle={{ fontSize: \"14px\", fontWeight: 500, letterSpacing: \"1px\" }}\n\t\t\t\t>\n\t\t\t\t\tили\n\t\t\t\t</div>\n\n\t\t\t\t<form className=\"form py-3 border-bottom\" onSubmit={(e) => onSubmit(e)}>\n\t\t\t\t\t<div class=\"mb-3 has-validation\">\n\t\t\t\t\t\t<label for=\"exampleFormControlInput1\" class=\"form-label\">\n\t\t\t\t\t\t\t<strong>Эл. почта или имя пользователя</strong>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tborderRadius: \"2px\",\n\t\t\t\t\t\t\t\tfontSize: \"16px\",\n\t\t\t\t\t\t\t\tlineHeight: 1.5,\n\t\t\t\t\t\t\t\tcolor: \"#222326\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tonChange(e);\n\t\t\t\t\t\t\t\tsetStartedWriting({ ...startedWriting, username: true });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName={`form-control  py-2 ${\n\t\t\t\t\t\t\t\tstartedWriting.username === true &&\n\t\t\t\t\t\t\t\t(formErrors?.username ? \"is-invalid\" : \"is-valid\")\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tid=\"exampleFormControlInput1\"\n\t\t\t\t\t\t\tplaceholder=\"Эл. почта или имя пользователя\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"invalid-feedback my-2\"\n\t\t\t\t\t\t\tstyle={{ fontWeight: 500, lineHeight: 1.5 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{formErrors?.username}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"mb-3 has-validation\">\n\t\t\t\t\t\t<label for=\"exampleFormControlInput2\" class=\"form-label\">\n\t\t\t\t\t\t\t<strong>Пароль</strong>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tborderRadius: \"2px\",\n\t\t\t\t\t\t\t\tfontSize: \"16px\",\n\t\t\t\t\t\t\t\tlineHeight: 1.5,\n\t\t\t\t\t\t\t\tcolor: \"#222326\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tonChange(e);\n\t\t\t\t\t\t\t\tsetStartedWriting({ ...startedWriting, password: true });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName={`form-control  py-2 ${\n\t\t\t\t\t\t\t\tstartedWriting.password === true &&\n\t\t\t\t\t\t\t\t(formErrors?.password ? \"is-invalid\" : \"is-valid\")\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tid=\"exampleFormControlInput2\"\n\t\t\t\t\t\t\tplaceholder=\"Пароль\"\n\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\tonSubmit(e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"invalid-feedback my-2\"\n\t\t\t\t\t\t\tstyle={{ fontWeight: 500, lineHeight: 1.5 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{formErrors?.password}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\tclassName=\"my-4 pb-3 d-block forget-text text-decoration-underline\"\n\t\t\t\t\t>\n\t\t\t\t\t\tЗабыли пароль?\n\t\t\t\t\t</Link>\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t// onClick={(e) => onSubmit(e)}\n\t\t\t\t\t\t\tdisabled={!isEmpty(formErrors)}\n\t\t\t\t\t\t\tclassName=\"btn  text-uppercase mx-auto fw-bold my-2 w-50 py-3 rounded-pill btn-submit\"\n\t\t\t\t\t\t\tstyle={{ letterSpacing: \"2px\", fontSize: \"14px\", lineHeight: 1 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t\t\t<div class=\"spinner-border text-white\" role=\"status\">\n\t\t\t\t\t\t\t\t\t<span class=\"visually-hidden\">Loading...</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>Войти</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t<div className=\"footer-links py-3\">\n\t\t\t\t\t<div className=\"text-center py-3 fw-bold\">Нет аккаунта?</div>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/register\"\n\t\t\t\t\t\tclassName=\"btn text-decoration-none text-uppercase fw-bold mb-2 w-100 py-3 rounded-pill btn-google\"\n\t\t\t\t\t\tstyle={{ letterSpacing: \"2px\", fontSize: \"14px\", lineHeight: 1 }}\n\t\t\t\t\t>\n\t\t\t\t\t\tРегистрация в Spotify\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Login;\n"],"sourceRoot":""}