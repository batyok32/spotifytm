{"version":3,"sources":["components/TableItem.jsx","containers/Search.jsx"],"names":["TableItem","props","music","useSelector","state","selectMusic","id","authors","name","duration","date","song_file","useState","play","setPlay","currentMusic","setCurrentMusic","dispatch","useDispatch","useEffect","className","style","color","fontSize","onMouseEnter","onMouseLeave","role","class","onClick","type","SET_MUSIC","payload","src","width","borderRadius","height","Array","isArray","length","map","aut","index","to","slug","textTransform","today","Date","release","diffTime","Math","abs","ceil","getReleaseTime","target","href","sec_num","parseInt","hours","floor","minutes","seconds","getDurationTime","Search","query","setQuery","submitText","setSubmitText","songs","setSongs","isLodaing","setIsLoading","result","setResult","pagination","setPagination","value","onChange","e","placeholder","letterSpacing","lineHeight","confi","get_songs","then","res","results","setTimeout","fontWeight","borderBottom","song","created","author","link","next","boxShadow"],"mappings":"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","file":"static/js/5.eb1a7e57.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { selectMusic } from \"../redux/selectors/music\";\nimport { SET_MUSIC } from \"../redux/types/types\";\n\nfunction TableItem(props) {\n    const music = useSelector((state) => selectMusic(state));\n    const { id, authors, name, duration, date, song_file } = props;\n    const [play, setPlay] = useState(false);\n    const [currentMusic, setCurrentMusic] = useState(false);\n    const getReleaseTime = () => {\n        let today = new Date();\n        let release = new Date(date);\n        const diffTime = Math.abs(today - release);\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        return diffDays;\n    };\n    const getDurationTime = () => {\n        var sec_num = parseInt(duration, 10); // don't forget the second param\n        var hours = Math.floor(sec_num / 3600);\n        var minutes = Math.floor((sec_num - hours * 3600) / 60);\n        var seconds = sec_num - hours * 3600 - minutes * 60;\n\n        if (minutes < 10) {\n            minutes = \"0\" + minutes;\n        }\n        if (seconds < 10) {\n            seconds = \"0\" + seconds;\n        }\n        return minutes + \":\" + seconds;\n    };\n\n    const dispatch = useDispatch();\n    useEffect(() => {\n        if (music?.id === id) {\n            setCurrentMusic(true);\n        } else {\n            setCurrentMusic(false);\n        }\n    }, [music]);\n    return (\n        <div\n            className=\"row pb-2 mb-2 pt-2 align-items-center btn-nav\"\n            style={{\n                color: \"#b3b3b3\",\n                fontSize: \"14px\",\n            }}\n        >\n            <div\n                onMouseEnter={() => setPlay(true)}\n                onMouseLeave={() => setPlay(false)}\n                className=\"col-1 ps-3 fs-6 d-flex justify-content-center play-btn\"\n                role=\"button\"\n            >\n                {currentMusic ? (\n                    <i\n                        role=\"button\"\n                        // onClick={pause}\n                        class=\"bi bi-pause-circle-fill fs-5\"\n                    ></i>\n                ) : play ? (\n                    <i\n                        class=\"bi bi-play-circle-fill\"\n                        onClick={() => {\n                            dispatch({ type: SET_MUSIC, payload: props });\n                        }}\n                    ></i>\n                ) : (\n                    <i class=\"bi bi-play-fill\"></i>\n                )}\n            </div>\n            <div className=\"col d-flex justify-content-start align-items-center \">\n                <img\n                    src=\"https://i.scdn.co/image/ab67616d00004851c5909eb7b91b1e9a0a3a74bf\"\n                    style={{\n                        width: \"40px\",\n                        borderRadius: \"3px\",\n                        height: \"40px\",\n                    }}\n                />\n                <div className=\"d-flex ms-3 flex-column justify-content-between \">\n                    <div className=\"fs-6 fw-bold text-white truncate-overflow-1\">\n                        {name}\n                    </div>\n                    {Array.isArray(authors) && authors.length >= 1 && (\n                        <div className=\"d-flex\">\n                            {authors.map((aut, index) => {\n                                return (\n                                    <>\n                                        <Link\n                                            to={`/singer/${aut.slug}/${aut.id}`}\n                                            style={{\n                                                textTransform: \"capitalize\",\n                                            }}\n                                            className=\"gray-text text-decoration-none d-inline fw-normal truncate-overflow-1\"\n                                        >\n                                            {aut?.name}\n                                        </Link>\n                                        {authors.length > index + 1 && (\n                                            <span className=\"px-1\">,</span>\n                                        )}\n                                    </>\n                                );\n                            })}\n                        </div>\n                    )}\n                </div>\n            </div>\n            <div className=\"col-3 d-none d-md-flex justify-content-center\">\n                {getReleaseTime()} days ago\n            </div>\n            <div className=\"col-2 d-flex justify-content-center align-items-center flex-column\">\n                <a\n                    target=\"_blank\"\n                    className=\"text-decoration-none fs-6 my-1  muted-text\"\n                    href={song_file}\n                >\n                    <i class=\"bi bi-cloud-download-fill\"></i>\n                </a>\n                {getDurationTime()}\n            </div>\n        </div>\n    );\n}\n\nexport default TableItem;\n\n// // let created = new Date(song?.created);\n// let today = new Date();\n// let diff = today.getTime() - created.getTime();\n// let date = new Date(diff);\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\n// import { Dropdown } from \"bootstrap\";\n// import { Link } from \"react-router-dom\";\nimport TableItem from \"../components/TableItem\";\nimport { get_songs } from \"../redux/actions/main\";\n\nfunction Search() {\n    const [query, setQuery] = useState(\"\");\n    const [submitText, setSubmitText] = useState(\"Поиск\");\n    const [songs, setSongs] = useState([]);\n    const [isLodaing, setIsLoading] = useState(false);\n    const [result, setResult] = useState(null);\n    const [pagination, setPagination] = useState(0);\n    const dispatch = useDispatch();\n    const submitSearch = () => {\n        if (query.length >= 3) {\n            const confi = `search=${query}${\n                pagination ? `&offset=${pagination}` : \"\"\n            }&ordering=-created`;\n            setIsLoading(true);\n            dispatch(get_songs(confi)).then((res) => {\n                setIsLoading(false);\n                setSongs(res.results);\n                setResult(res);\n            });\n        } else {\n            setSubmitText(\"Поиск должен состоять из 3 или более букв\");\n            setTimeout(() => {\n                setSubmitText(\"Поиск\");\n            }, 3000);\n        }\n    };\n    return (\n        <div className=\"px-4 py-2\">\n            <div class=\"mb-4\">\n                <input\n                    value={query}\n                    onChange={(e) => setQuery(e.target.value)}\n                    type=\"text\"\n                    className=\"form-control search-input ps-4\"\n                    id=\"exampleFormControlInput1\"\n                    placeholder=\"Поиск...\"\n                />\n            </div>\n\n            <div className=\"d-flex justify-content-center\">\n                <button\n                    className=\"btn text-uppercase fw-bold px-4 py-3 rounded-pill btn-facebook\"\n                    style={{\n                        letterSpacing: \"2px\",\n                        fontSize: \"14px\",\n                        lineHeight: 1,\n                    }}\n                    onClick={submitSearch}\n                >\n                    <i\n                        class=\"bi bi-binoculars-fill  me-2\"\n                        style={{ fontSize: \"16px\" }}\n                    ></i>\n                    {submitText}\n                </button>\n            </div>\n            <div className=\"container\">\n                <div className=\"h1 my-5 text-center truncate-overflow-2\">\n                    {isLodaing ? (\n                        <div class=\"spinner-border h6\" role=\"status\">\n                            <span class=\"visually-hidden\">Loading...</span>\n                        </div>\n                    ) : (\n                        `Поиск: ${query}`\n                    )}\n                </div>\n                <div className=\"container\">\n                    <div\n                        className=\"row my-3 pb-3 align-items-center\"\n                        style={{\n                            color: \"#b3b3b3\",\n                            fontSize: \"13px\",\n                            letterSpacing: \"1px\",\n                            fontWeight: 600,\n                            borderBottom: \"1px solid rgba(255,255,255,.1)\",\n                        }}\n                    >\n                        <div className=\"col-1 fs-6 d-flex justify-content-center\">\n                            #\n                        </div>\n                        <div className=\"col\">НАЗВАНИЕ</div>\n                        <div className=\"col-3 d-none d-md-flex justify-content-center\">\n                            ДАТА ДОБАВЛЕНИЯ\n                        </div>\n                        <div className=\"col-2 d-flex justify-content-center\">\n                            <i className=\"bi bi-clock fs-6\"></i>\n                        </div>\n                    </div>\n                    {Array.isArray(songs) &&\n                        songs.length >= 1 &&\n                        songs.map((song, index) => {\n                            return (\n                                <TableItem\n                                    key={song?.id}\n                                    id={song?.id}\n                                    name={song?.name}\n                                    duration={song?.duration}\n                                    song_file={song.song_file}\n                                    date={song?.created}\n                                    author={{ name: \"The Limba\", link: \"/\" }}\n                                />\n                            );\n                        })}\n                </div>\n                {result?.next && (\n                    <div className=\"d-flex justify-content-center\">\n                        <button\n                            className=\"btn text-uppercase fw-bold my-4  py-3 rounded-pill btn-black\"\n                            style={{\n                                letterSpacing: \"2px\",\n                                boxShadow: \"none\",\n                                fontSize: \"14px\",\n                                lineHeight: 1,\n                            }}\n                            onClick={() =>\n                                setPagination(pagination + songs.length)\n                            }\n                        >\n                            <i\n                                class=\"bi bi-caret-down-fill me-2\"\n                                style={{ fontSize: \"16px\" }}\n                            ></i>\n                            Загрузить\n                        </button>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default Search;\n\n{\n    /* <div className=\"row  justify-content-center my-2\">\n                <div className=\"col-auto\">\n                    <button\n                        type=\"button\"\n                        data-bs-toggle=\"dropdown\"\n                        className=\"btn dropdown-toggle no-focus truncate-overflow-1 text-uppercase mx-auto fw-bold my-2  py-3 rounded-pill btn-submit\"\n                        style={{\n                            letterSpacing: \"1px\",\n                            fontSize: \"14px\",\n                            lineHeight: 1,\n                        }}\n                        aria-expanded=\"false\"\n                    >\n                        Песни\n                    </button>\n\n                    <ul\n                        class=\"dropdown-menu bg-black p-1 my-2\"\n                        style={{ borderRadius: \"15px\" }}\n                        aria-labelledby=\"dropdownMenuButton1sidebar\"\n                    >\n                        <li className=\"drop-item \">Песни</li>\n                        <li className=\"drop-item \">Жанры</li>\n                        <li className=\"drop-item \">Певцы</li>\n                    </ul>\n                </div>\n                <div className=\"col-auto\">\n                    <button\n                        type=\"button\"\n                        data-bs-toggle=\"dropdown\"\n                        className=\"btn dropdown-toggle no-focus truncate-overflow-1 text-uppercase mx-auto fw-bold my-2  py-3 rounded-pill btn-submit\"\n                        style={{\n                            letterSpacing: \"1px\",\n                            fontSize: \"14px\",\n                            lineHeight: 1,\n                        }}\n                        aria-expanded=\"false\"\n                    >\n                        Войти\n                    </button>\n\n                    <ul\n                        class=\"dropdown-menu bg-black p-1 my-2\"\n                        style={{ borderRadius: \"15px\" }}\n                        aria-labelledby=\"dropdownMenuButton1sidebar\"\n                    >\n                        <li className=\"drop-item \">Logout</li>\n                        <li className=\"drop-item \">\n                            <Link\n                                to=\"/\"\n                                className=\"text-decoration-none\"\n                                style={{ color: \"inherit\" }}\n                            >\n                                Profile\n                            </Link>\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"col-auto\">\n                    <button\n                        type=\"button\"\n                        data-bs-toggle=\"dropdown\"\n                        className=\"btn dropdown-toggle no-focus truncate-overflow-1 text-uppercase mx-auto fw-bold my-2  py-3 rounded-pill btn-submit\"\n                        style={{\n                            letterSpacing: \"1px\",\n                            fontSize: \"14px\",\n                            lineHeight: 1,\n                        }}\n                        aria-expanded=\"false\"\n                    >\n                        Войти\n                    </button>\n\n                    <ul\n                        class=\"dropdown-menu bg-black p-1 my-2\"\n                        style={{ borderRadius: \"15px\" }}\n                        aria-labelledby=\"dropdownMenuButton1sidebar\"\n                    >\n                        <li className=\"drop-item \">Logout</li>\n                        <li className=\"drop-item \">\n                            <Link\n                                to=\"/\"\n                                className=\"text-decoration-none\"\n                                style={{ color: \"inherit\" }}\n                            >\n                                Profile\n                            </Link>\n                        </li>\n                    </ul>\n                </div>\n            </div> */\n}\n"],"sourceRoot":""}